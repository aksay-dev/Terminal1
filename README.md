# Hello World - LVGL v9.4 Demo with Touchscreen üéØ

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è ESP32-S3 —Å –¥–∏—Å–ø–ª–µ–µ–º ST7701 RGB (480x480) –∏ —Ç–∞—á—Å–∫—Ä–∏–Ω–æ–º GT911.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å LVGL v9.4 –Ω–∞ ESP-IDF v5.5.1:
- ‚úÖ –í—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ "Hello, World!" –Ω–∞ —ç–∫—Ä–∞–Ω
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —à—Ä–∏—Ñ—Ç–æ–≤ Montserrat (18, 20, 24, 48)
- ‚úÖ **–¢–∞—á—Å–∫—Ä–∏–Ω GT911** - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ I2C
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞** - —Å—á–µ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ + —Å–º–µ–Ω–∞ —Ü–≤–µ—Ç–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RGB-–¥–∏—Å–ø–ª–µ—è ST7701 —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**üÜï –ù–æ–≤–æ–µ:** –¢–µ–ø–µ—Ä—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–∞—á—Å–∫—Ä–∏–Ω–∞! –°–º. [TOUCHSCREEN.md](TOUCHSCREEN.md)

## –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

**–î–∏—Å–ø–ª–µ–π:** ESP32-4848S040 (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: ST7701S
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 480x480
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: RGB565 (16-bit –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π)
- **–¢–∞—á—Å–∫—Ä–∏–Ω: GT911 ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù!**

**–ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:** ESP32-S3
- PSRAM: 8MB (–¥–ª—è —Ñ—Ä–µ–π–º–±—É—Ñ–µ—Ä–∞)
- Flash: 16MB

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∏–Ω–æ–≤

### RGB –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∏—Å–ø–ª–µ—è
```
DE    -> GPIO18      HSYNC -> GPIO16      VSYNC -> GPIO17      PCLK -> GPIO21
R0-R4 -> GPIO11-14,0 G0-G5 -> GPIO8,20,3,46,9,10 B0-B4 -> GPIO4-7,15
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ–µ–º (3-wire SPI)
```
CS  -> GPIO39
SCL -> GPIO48
SDA -> GPIO47
BL  -> GPIO38 (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ESP-IDF v5.5.1
- LVGL v9.3+ (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ idf_component.yml)
- PSRAM –≤–∫–ª—é—á–µ–Ω –≤ sdkconfig

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Terminal1/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îú‚îÄ‚îÄ main.c          # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –¥–µ–º–æ UI
‚îÇ   ‚îú‚îÄ‚îÄ display.c       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ST7701 –∏ RGB-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ display.h       # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª –¥–∏—Å–ø–ª–µ—è
‚îÇ   ‚îî‚îÄ‚îÄ idf_component.yml  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (lvgl/lvgl ^9.3.0)
‚îú‚îÄ‚îÄ lv_conf.h           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LVGL
‚îú‚îÄ‚îÄ CMakeLists.txt      # CMake –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ sdkconfig           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ESP-IDF
```

## –°–±–æ—Ä–∫–∞ –∏ –ø—Ä–æ—à–∏–≤–∫–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ ESP-IDF
. $IDF_PATH/export.sh
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```bash
idf.py menuconfig
```

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ:
- Component config ‚Üí ESP PSRAM ‚Üí Support for external SPI-connected RAM
- Component config ‚Üí ESP PSRAM ‚Üí SPI RAM config ‚Üí Quad/Octal

### 3. –°–±–æ—Ä–∫–∞
```bash
idf.py build
```

### 4. –ü—Ä–æ—à–∏–≤–∫–∞
```bash
idf.py -p COMx flash monitor
```

## –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ         Hello, World!               ‚îÇ  (–∑–µ–ª–µ–Ω—ã–π, 48pt)
‚îÇ                                     ‚îÇ
‚îÇ     LVGL v9.4 on ESP32-S3          ‚îÇ  (–±–µ–ª—ã–π, 24pt)
‚îÇ                                     ‚îÇ
‚îÇ     Resolution: 480 x 480          ‚îÇ  (—Å–µ—Ä—ã–π, 18pt)
‚îÇ     ST7701 RGB Display             ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ         [ Press Me! ]              ‚îÇ  (—Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞)
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

### main.c
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏—Å–ø–ª–µ—è —á–µ—Ä–µ–∑ `display_init()`
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ `lv_timer_handler()` –∫–∞–∂–¥—ã–µ 5 –º—Å
- –°–æ–∑–¥–∞–Ω–∏–µ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤: –ª–µ–π–±–ª—ã –∏ –∫–Ω–æ–ø–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä—ã (—Ç–µ–º–Ω—ã–π —Ñ–æ–Ω, —è—Ä–∫–∏–µ –∞–∫—Ü–µ–Ω—Ç—ã)

### display.c
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ST7701 —á–µ—Ä–µ–∑ 3-wire SPI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RGB-–ø–∞–Ω–µ–ª–∏ ESP32-S3 (esp_lcd_panel_rgb)
- –ê–ª–ª–æ–∫–∞—Ü–∏—è —Ñ—Ä–µ–π–º–±—É—Ñ–µ—Ä–∞ –≤ PSRAM (480√ó480√ó2 = 460KB)
- Full-screen –±—É—Ñ–µ—Ä –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

### lv_conf.h
- RGB565 —Ñ–æ—Ä–º–∞—Ç —Ü–≤–µ—Ç–∞ (16-bit)
- –í–∫–ª—é—á–µ–Ω—ã —à—Ä–∏—Ñ—Ç—ã Montserrat: 14, 18, 20, 24, 48
- –ë–∞–∑–æ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã: Label, Button
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ (INFO —É—Ä–æ–≤–µ–Ω—å)

## –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∏–∑ Arduino –ø—Ä–æ–µ–∫—Ç–∞ 4.0_LvglWidgets

–ü—Ä–æ–µ–∫—Ç –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —Å Arduino –Ω–∞ ESP-IDF:

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ó–∞–º–µ–Ω–∞ Arduino_GFX –Ω–∞ esp_lcd_panel_rgb (–Ω–∞—Ç–∏–≤–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä ESP-IDF)
2. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ST7701 –Ω–∞ –ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç—É —Å GPIO
3. –ü–µ—Ä–µ—Ö–æ–¥ —Å LVGL v8 –Ω–∞ v9 (–Ω–æ–≤—ã–µ API: `lv_screen_active()`, `lv_display_*()`)
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ esp_timer –≤–º–µ—Å—Ç–æ Arduino millis()
5. –ë—É—Ñ–µ—Ä –≤ PSRAM —á–µ—Ä–µ–∑ heap_caps_malloc()

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ:**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∏–Ω–æ–≤ RGB –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –¢–∞–π–º–∏–Ω–≥–∏ HSYNC/VSYNC/PCLK
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ST7701
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–∞–º–º—ã –∏ –ø–∏—Ç–∞–Ω–∏—è –¥–∏—Å–ø–ª–µ—è

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–≥–æ UI –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –¥–µ–º–æ:

1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∞—á—Å–∫—Ä–∏–Ω:**
   - –ò–∑—É—á–∏—Ç—å `touch.h` –∏–∑ Arduino-–ø—Ä–æ–µ–∫—Ç–∞
   - –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä–∞–π–≤–µ—Ä GT911 –Ω–∞ ESP-IDF
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å input device —á–µ—Ä–µ–∑ `lv_indev_create()`

2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç—ã:**
   - –í–∫–ª—é—á–∏—Ç—å –≤ lv_conf.h: LV_USE_CHART, LV_USE_SLIDER –∏ —Ç.–¥.
   - –°–º. lv_demo_widgets.c –∏–∑ Arduino-–ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å partial rendering –≤–º–µ—Å—Ç–æ full-screen –±—É—Ñ–µ—Ä–∞
   - –í–∫–ª—é—á–∏—Ç—å DMA –¥–ª—è RGB –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å bounce buffer –≤ esp_lcd_rgb_panel_config_t

4. **–ú–Ω–æ–≥–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ screens —á–µ—Ä–µ–∑ `lv_obj_create(NULL)`
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `lv_screen_load_anim()`

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

**–ü—É—Å—Ç–æ–π/–±–µ–ª—ã–π —ç–∫—Ä–∞–Ω:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è (5V/3.3V)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ BL (GPIO38) - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ –≥–æ—Ä–µ—Ç—å
- –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ `st7701_init_sequence()`

**–ù–µ–≤–µ—Ä–Ω—ã–µ —Ü–≤–µ—Ç–∞:**
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ RGB –ª–∏–Ω–∏–π –≤ data_gpio_nums[]
- –ò–∑–º–µ–Ω–∏—Ç–µ LV_COLOR_16_SWAP –≤ lv_conf.h –Ω–∞ 1

**–ú–µ—Ä—Ü–∞–Ω–∏–µ:**
- –£–º–µ–Ω—å—à–∏—Ç–µ PCLK_HZ (—Å–µ–π—á–∞—Å 10 –ú–ì—Ü)
- –£–≤–µ–ª–∏—á—å—Ç–µ HSYNC/VSYNC back porch

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –∫–æ–¥–µ –≤–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```c
ESP_LOGI(TAG, "Display initialized successfully");
```

–°–º–æ—Ç—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä –ø–æ—Ä—Ç–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## –†–µ—Å—É—Ä—Å—ã

- [LVGL Documentation v9](https://docs.lvgl.io/master/)
- [ESP-IDF LCD API](https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/api-reference/peripherals/lcd.html)
- [ST7701 Datasheet](https://www.displayfuture.com/Display/datasheet/controller/ST7701.pdf)
- –ò—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: `4.0_LvglWidgets` (Arduino)

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞ 4.0_LvglWidgets.

## –ê–≤—Ç–æ—Ä

–î–µ–º–æ "Hello, World!" —Å–æ–∑–¥–∞–Ω–æ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è LVGL v9.4 –Ω–∞ ESP32-S3.

